# Bittorrent-like protocol implementation on Erlang nodes

__Кратко:__

Проект реализует протокол BitTorrent для обмена файлами между узлами, работающими на Erlang. Ключевые особенности проекта:

Модуль peer отвечает за прием запросов от клиентов и создание процессов _leecher для каждого торрента, где осуществляется вся основная работа с файлами.

Все сообщения передаются через распределенную систему Erlang, и каждый узел идентифицируется как {peer, <node_name>}.

При обмене сообщениями пиры обмениваются идентификаторами личных процессов, так что после handshake они отправляют сообщения друг другу напрямую.

Знакомство с пирами происходит с помощью другой ноды, торрент-трекера, идентификатор которого записан в торрент-файле.

__Описание модулей:__


Модуль ep2psharing_app: Это главный модуль приложения. Он инициализирует приложение и запускает необходимые процессы.

Модуль ep2psharing_peer: Данный модуль предоставляет основной функционал узла-клиента, который принимает запросы от клиента и под каждый торрент спавнит процесс _leecher, где происходит основная работа с данным торрентом.

Модуль ep2psharing_leecher: Данный модуль представляет лич-процессы, которые создаются для каждого торрента. Они осуществляют подключение к другим пирам и загрузку/отдачу блоков.

Модуль ep2psharing_tracker_server: Данный модуль реализует функционал сервера трекера. Он принимает запросы от клиентов, обрабатывает их и отправляет обратно информацию о других пирах.

Модуль ep2psharing_read_torrent_file: Этот модуль отвечает за чтение торрент-файлов и возвращение их содержимого в виде Erlang-структур.

Модуль ep2psharing_bencoding: Этот модуль предоставляет функционал для преобразования данных в формате Bencoding.

Модуль ep2psharing_util: Этот модуль содержит различные вспомогательные функции, которые используются в разных частях проекта.    


                            +-----------------+
                            |   Torrent file  |
                            |     (tracker)   |
                            +-----------------+
                                     |
                                     |
                                     |
                                     v
     +-----------------------------------------------+
     |                   Node 1                      |
     | +-------------+ +-------------+ +-------------+ |
     | |     Peer    | |     Peer    | |     Peer    | |
     | | (leecher 1) | | (leecher 2) | | (leecher 3) | |
     | +-------------+ +-------------+ +-------------+ |
     +-----------------------------------------------+
                                     |
                                     |
                                     |
                                     v
     +-----------------------------------------------+
     |                   Node 2                      |
     | +-------------+ +-------------+ +-------------+ |
     | |     Peer    | |     Peer    | |     Peer    | |
     | | (leecher 1) | | (leecher 2) | | (leecher 3) | |
     | +-------------+ +-------------+ +-------------+ |
     +-----------------------------------------------+

__Запуск проекта__
Каждую ноду необходимо запустить с помощью команды erl -name <node_name>@<ip_address>. Например, для запуска двух нод с именами node1 и node2 на локальной машине необходимо выполнить команды:

```
erl -name node1@127.0.0.1
erl -name node2@127.0.0.1
```
=====

Build
-----

    $ rebar3 compile
